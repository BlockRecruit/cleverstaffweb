<div class="col-lg-2" title="{{history.dm|dateFormat:true}}">
    <div class="time-comment">
        {{history.dm|dateFormat:false}}
    </div>
    <a href="#/users/{{history.person.userId}}" class="text-left user">
        <span once-text="history.person.firstName"></span>
        <span once-text="history.person.lastName"></span>
    </a>
</div>
<div class="col-lg-10 margin-top">
    <span>
        <span ng-if="history.candidate">
            {{'history_info.candidate'|translate}}
             <a ng-click="routeOnCandidate(history.candidate.localId, 'history')">
                 {{history.candidate.fullName}}
             </a>
        </span>
        <span ng-if="history.candidates.length < 3 && history.candidates.length > 1">
            <a ng-href="#/candidates/{{history.candidates[0].localId}}">
                {{history.candidates[0].fullName}}
            </a> {{'and'|translate}} <a ng-href="#/candidates/{{history.candidates[1].localId}}">
                {{history.candidates[1].fullName}}
            </a>
        </span>
        <span class="manyCandidates" ng-if="history.candidates.length > 3">
            <span class="boldTxt" ng-click="openMenuWithCandidates(history)">{{'history_info.candidates'|translate}} (<span class="blueLink">{{history.candidates.length}}</span>)</span>
        </span>
        {{'history_info.on_vacancy'|translate}}
        <a href="#/vacancies/{{ history.vacancy.localId}}">
            {{history.vacancy.position}}
        </a>
    </span>
    <a title="{{'Edit post' | translate}}" ng-show="$root.me.fullName == history.person.fullName" href=""
       ng-click="changeCommentFlag(history)" class="editMessage pull-right">
        <i class="fa fa-pencil" aria-hidden="true"></i>
    </a>
    <span ng-show="history.descr">
        <br>
        {{'history_info.message'|translate}}:
        <br/>
        <span ng-bind-html="history.descr|textForNotice:false"></span>
    </span>
    <div class="textField" ng-show="history.editCommentFlag">
        <div class="field">
            <textarea class="editCommentArea" ng-model="editComment"></textarea>
        </div>
        <div ng-click="history.editCommentFlag = false" class="btn btn-primary cancel">
            {{'cancel'|translate}}
        </div>
        <div ng-click="changeComment(history, editComment)" class="btn btn-primary accept">
            {{'save'|translate}}
        </div>
    </div>
    <span class="manyCandidates" ng-if="history.candidates.length > 2">
        <div ng-show="history.showAllCandidates">
            <span ng-repeat="candidate in history.candidates" class="menuCandidate">
                <a ng-href="#/candidates/{{candidate.localId}}" title="{{candidate.fullName}}">
                    {{candidate.fullName}}
                </a>
            </span>
        </div>
    </span>
</div>